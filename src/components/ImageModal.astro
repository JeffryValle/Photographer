---

---

<div
    id="imageModal"
    class="fixed inset-0 z-50 bg-black bg-opacity-80 justify-center items-center p-4"
    style="display: none;"
>
    <div class="relative max-w-4xl w-full">
        <img
            id="modalImage"
            src=""
            alt="Imagen ampliada"
            class="w-full h-auto rounded-lg max-h-screen object-contain"
        />
        <button
            id="closeModal"
            class="absolute top-4 right-4 bg-white text-black rounded-full w-10 h-10 flex justify-center items-center hover:bg-gray-200 transition"
            aria-label="Cerrar"
        >
            âœ•
        </button>
    </div>
</div>

<script is:inline>
    const modal = document.getElementById("imageModal");
    const modalImage = document.getElementById("modalImage");
    const closeBtn = document.getElementById("closeModal");

    // Abre el modal
    document.addEventListener("click", (e) => {
        const target = e.target;
        if (
            target instanceof HTMLElement &&
            target.classList.contains("gallery-img")
        ) {
            if (
                modalImage instanceof HTMLImageElement &&
                modal instanceof HTMLElement
            ) {
                modalImage.src = target.src;
                modal.style.display = "flex";
                document.body.style.overflow = "hidden";
            }
        }
    });

    // Cierra el modal
    function closeImageModal() {
        if (modal instanceof HTMLElement) {
            modal.style.display = "none";
            document.body.style.overflow = "auto";
        }
    }

    if (closeBtn instanceof HTMLElement) {
        closeBtn.addEventListener("click", closeImageModal);
    }

    // Cierra al hacer click fuera de la imagen
    if (modal instanceof HTMLElement) {
        modal.addEventListener("click", (e) => {
            if (e.target === modal) {
                closeImageModal();
            }
        });
    }

    // Cierra con la tecla ESC
    document.addEventListener("keydown", (e) => {
        if (e.key === "Escape") {
            closeImageModal();
        }
    });
</script>
